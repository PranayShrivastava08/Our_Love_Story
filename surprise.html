<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Special Surprise ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=Quicksand:wght@400;500;600&family=Great+Vibes&display=swap" rel="stylesheet">
    <script src="page-manager.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --pink: #FF6B9D;
            --purple: #C44569;
            --yellow: #FFD93D;
            --blue: #6BCF7F;
            --light-pink: #FFE5EC;
            --cream: #FFF5E4;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background: #000;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated gradient background */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #1a1a2e, #16213e, #0f3460, #53354a);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            z-index: 0;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }


        /* Animated stars background */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .star {
            position: absolute;
            width: 3px;
            height: 3px;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.5); }
        }

        /* Fireworks */
        .firework {
            position: fixed;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            pointer-events: none;
        }

        .firework::before,
        .firework::after {
            content: '';
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
        }

        /* Particle system */
        canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        nav {
            background: rgba(26, 26, 46, 0.9);
            backdrop-filter: blur(10px);
            padding: 1.5rem 2rem;
            box-shadow: 0 4px 20px rgba(255, 107, 157, 0.3);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        nav a {
            text-decoration: none;
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            transition: all 0.3s ease;
        }

        nav a:hover {
            background: var(--pink);
            color: white;
            transform: translateY(-3px) scale(1.05);
        }

        nav a.active {
            background: var(--pink);
            color: white;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 3rem 2rem;
            position: relative;
            z-index: 10;
        }

        .surprise-wrapper {
            text-align: center;
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        /* Magical countdown screen */
        .lock-screen {
            animation: fadeIn 1s ease-out;
            text-align: center;
        }

        .magic-circle {
            width: 300px;
            height: 300px;
            margin: 0 auto 3rem;
            position: relative;
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .magic-circle::before,
        .magic-circle::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            border: 3px solid;
        }

        .magic-circle::before {
            width: 100%;
            height: 100%;
            border-color: var(--pink) transparent var(--purple) transparent;
            animation: pulse 2s ease-in-out infinite;
        }

        .magic-circle::after {
            width: 80%;
            height: 80%;
            border-color: transparent var(--yellow) transparent var(--blue);
            animation: pulse 2s ease-in-out infinite reverse;
        }

        @keyframes pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
            50% { transform: translate(-50%, -50%) scale(1.1); opacity: 0.7; }
        }

        .lock-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 6rem;
            animation: float 3s ease-in-out infinite;
            filter: drop-shadow(0 0 20px rgba(255, 107, 157, 0.8));
        }

        @keyframes float {
            0%, 100% { transform: translate(-50%, -50%) translateY(0); }
            50% { transform: translate(-50%, -50%) translateY(-20px); }
        }

        h1 {
            font-family: 'Fredoka', sans-serif;
            font-size: 3.5rem;
            color: white;
            margin-bottom: 1rem;
            text-shadow: 0 0 30px rgba(255, 107, 157, 0.8), 0 0 60px rgba(196, 69, 105, 0.5);
            animation: glow 2s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { text-shadow: 0 0 30px rgba(255, 107, 157, 0.8), 0 0 60px rgba(196, 69, 105, 0.5); }
            50% { text-shadow: 0 0 40px rgba(255, 107, 157, 1), 0 0 80px rgba(196, 69, 105, 0.8); }
        }

        .unlock-instruction {
            color: var(--light-pink);
            font-size: 1.5rem;
            margin-bottom: 3rem;
            font-weight: 600;
            animation: fadeInUp 1s ease-out 0.5s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .unlock-button {
            padding: 1.8rem 5rem;
            background: linear-gradient(135deg, var(--pink), var(--purple), var(--pink));
            background-size: 200% 200%;
            color: white;
            border: none;
            border-radius: 60px;
            font-family: 'Fredoka', sans-serif;
            font-size: 1.8rem;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 15px 50px rgba(255, 107, 157, 0.6), 
                        0 0 30px rgba(255, 107, 157, 0.4),
                        inset 0 -5px 20px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
            animation: fadeInUp 1s ease-out 0.8s both, shimmer 3s ease-in-out infinite;
        }

        @keyframes shimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .unlock-button::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transform: rotate(45deg);
            animation: buttonShine 3s ease-in-out infinite;
        }

        @keyframes buttonShine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .unlock-button:hover {
            transform: scale(1.15) translateY(-5px);
            box-shadow: 0 20px 60px rgba(255, 107, 157, 0.8), 
                        0 0 50px rgba(255, 107, 157, 0.6),
                        inset 0 -5px 20px rgba(0, 0, 0, 0.3);
        }

        .unlock-button:active {
            transform: scale(1.05);
        }

        .surprise-content {
            display: none;
        }

        .surprise-content.show {
            display: block;
            animation: revealSurprise 2s ease-out;
        }

        @keyframes revealSurprise {
            0% {
                opacity: 0;
                transform: scale(0.3) rotateY(180deg);
            }
            50% {
                opacity: 0.5;
                transform: scale(1.1) rotateY(90deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotateY(0deg);
            }
        }

        /* 3D Rotating Heart */
        .heart-3d-container {
            perspective: 1000px;
            margin: 3rem auto;
            width: 200px;
            height: 200px;
        }

        .heart-3d {
            width: 200px;
            height: 200px;
            position: relative;
            transform-style: preserve-3d;
            animation: rotate3D 6s linear infinite;
        }

        @keyframes rotate3D {
            from { transform: rotateY(0deg) rotateX(0deg); }
            to { transform: rotateY(360deg) rotateX(360deg); }
        }

        .heart-3d span {
            position: absolute;
            font-size: 8rem;
            filter: drop-shadow(0 0 30px rgba(255, 107, 157, 1));
        }

        /* Photo carousel */
        .photo-carousel {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin: 3rem auto;
            height: 450px;
            perspective: 1000px;
        }

        .carousel-container {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            animation: carouselRotate 20s linear infinite;
        }

        @keyframes carouselRotate {
            from { transform: rotateY(0deg); }
            to { transform: rotateY(360deg); }
        }

       .carousel-item {
    position: absolute;
    width: 450px;
    height: 320px;
    left: 50%;
    top: 50%;
    margin-left: -225px;
    margin-top: -160px;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    border: 5px solid var(--yellow);
    display: flex;
    align-items: center;
    justify-content: center;
    background: #000; /* optional clean background */
}


       .carousel-item img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}


        .carousel-item:nth-child(1) { transform: rotateY(0deg) translateZ(500px); }
        .carousel-item:nth-child(2) { transform: rotateY(72deg) translateZ(500px); }
        .carousel-item:nth-child(3) { transform: rotateY(144deg) translateZ(500px); }
        .carousel-item:nth-child(4) { transform: rotateY(216deg) translateZ(500px); }
        .carousel-item:nth-child(5) { transform: rotateY(288deg) translateZ(500px); }

        .heart-explosion {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
        }

        .exploding-heart {
            position: absolute;
            font-size: 3rem;
            animation: explode 2s ease-out forwards;
        }

        @keyframes explode {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(var(--tx), var(--ty)) scale(0.5);
            }
        }

        .love-letter {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(255, 240, 245, 0.98));
            border-radius: 30px;
            padding: 4rem;
            max-width: 900px;
            margin: 3rem auto;
            box-shadow: 0 30px 90px rgba(255, 107, 157, 0.5),
                        inset 0 0 40px rgba(255, 107, 157, 0.1);
            border: 5px solid var(--yellow);
            position: relative;
            overflow: hidden;
            animation: letterFloat 3s ease-in-out infinite;
        }

        @keyframes letterFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .love-letter::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 107, 157, 0.1) 0%, transparent 70%);
            animation: letterGlow 4s ease-in-out infinite;
        }

        @keyframes letterGlow {
            0%, 100% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(20px, 20px) scale(1.1); }
        }

        .love-letter h2 {
            font-family: 'Great Vibes', cursive;
            font-size: 4rem;
            color: var(--purple);
            margin-bottom: 2rem;
            text-shadow: 2px 2px 4px rgba(196, 69, 105, 0.3);
            position: relative;
            z-index: 1;
        }

        .love-letter p {
            font-size: 1.3rem;
            line-height: 2.2;
            color: #333;
            margin-bottom: 1.5rem;
            text-align: left;
            position: relative;
            z-index: 1;
            animation: fadeInText 1s ease-out both;
        }

        .love-letter p:nth-child(3) { animation-delay: 0.2s; }
        .love-letter p:nth-child(4) { animation-delay: 0.4s; }
        .love-letter p:nth-child(5) { animation-delay: 0.6s; }
        .love-letter p:nth-child(6) { animation-delay: 0.8s; }

        @keyframes fadeInText {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .signature {
            font-family: 'Great Vibes', cursive;
            font-size: 3rem;
            color: var(--pink);
            margin-top: 3rem;
            text-align: right;
            position: relative;
            z-index: 1;
            text-shadow: 2px 2px 4px rgba(255, 107, 157, 0.3);
        }

        .floating-hearts-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .floating-heart-anim {
            position: absolute;
            font-size: 2rem;
            animation: float-up 6s infinite ease-in;
            opacity: 0;
        }

        @keyframes float-up {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        .gift-box {
            font-size: 8rem;
            margin: 2rem 0;
            animation: giftBounce 1s ease-in-out infinite, giftRotate 4s linear infinite;
            filter: drop-shadow(0 0 40px rgba(255, 215, 0, 0.8));
        }

        @keyframes giftBounce {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-30px) scale(1.1); }
        }

        @keyframes giftRotate {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }

        /* Video message container */
        .video-message {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            backdrop-filter: blur(20px);
            border: 3px solid rgba(255, 107, 157, 0.4);
            border-radius: 30px;
            padding: 3rem;
            margin: 3rem auto;
            max-width: 800px;
            box-shadow: 0 20px 60px rgba(255, 107, 157, 0.3);
            position: relative;
            overflow: hidden;
        }

        .video-message::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: videoShine 3s ease-in-out infinite;
        }

        @keyframes videoShine {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .video-message h3 {
            font-family: 'Fredoka', sans-serif;
            color: var(--yellow);
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 1;
            text-shadow: 0 0 20px rgba(255, 215, 61, 0.5);
        }

        .video-message p {
            color: white;
            font-size: 1.3rem;
            line-height: 1.9;
            position: relative;
            z-index: 1;
        }

        .video-placeholder {
            width: 100%;
            max-width: 700px;
            height: 400px;
            background: linear-gradient(135deg, rgba(255, 107, 157, 0.2), rgba(196, 69, 105, 0.2));
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 2rem auto;
            border: 3px dashed rgba(255, 107, 157, 0.5);
            position: relative;
            overflow: hidden;
        }

        .video-placeholder::before {
            content: 'üé¨';
            font-size: 6rem;
            animation: videoPulse 2s ease-in-out infinite;
        }

        @keyframes videoPulse {
            0%, 100% { transform: scale(1); opacity: 0.6; }
            50% { transform: scale(1.2); opacity: 1; }
        }

        .special-message {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 107, 157, 0.3);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem auto;
            max-width: 700px;
        }

        .special-message h3 {
            font-family: 'Fredoka', sans-serif;
            color: var(--yellow);
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .special-message p {
            color: white;
            font-size: 1.2rem;
            line-height: 1.8;
        }

        footer {
            text-align: center;
            padding: 2rem;
            color: white;
            font-weight: 600;
            margin-top: 3rem;
            position: relative;
            z-index: 10;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }
            .love-letter {
                padding: 2rem;
            }
            .love-letter p {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <div class="animated-bg"></div>
    <canvas id="particleCanvas"></canvas>
    <div class="stars" id="starsContainer"></div>

    <div class="container">
        <div class="surprise-wrapper">
            <div class="lock-screen" id="lockScreen">
                <div class="magic-circle">
                    <div class="lock-icon">üîê</div>
                </div>
                <h1>Your Magical Surprise Awaits!</h1>
                <p class="unlock-instruction">Something truly special is waiting to be revealed...</p>
                <button class="unlock-button" onclick="unlockSurprise()">‚ú® Unlock The Magic ‚ú®</button>
            </div>

            <div class="surprise-content" id="surpriseContent">
                <div class="gift-box"></div>
                <h1 style="color: var(--yellow); font-size: 4rem; margin: 2rem 0;">Happy Valentine's Day Baeboo üåπ‚ú®</h1>
                
                <div class="heart-3d-container">
                    <div class="heart-3d">
                        <span>üíñ</span>
                    </div>
                </div>

                <div class="special-message">
                    <h3>The Journey Has Led You Here...</h3>
                    <p>
                        You found the surprise! Just like how I found you - the best surprise of my life. 
                        Every page you visited was a reminder of why we're perfect together.
                    </p>
                </div>
                <div class="photo-carousel">
                    <div class="carousel-container">
                        
                        <div class="carousel-item">
                            <img src="farewell.png" alt="Our Memory 1">
                        </div>
                        <div class="carousel-item">
                            <img src="memory2.png" alt="Our Memory 2">
                        </div>
                        <div class="carousel-item">
                            <img src="memory3.png" alt="Our Memory 3">
                        </div>
                        <div class="carousel-item">
                            <img src="memory5.png" alt="Our Memory 4">
                        </div>
                        <div class="carousel-item">
                            <img src="memory7.png" alt="Our Memory 5">
                        </div>
                    </div>
                </div>

            
                <div class="video-message">
                    <p style="margin-bottom: 2rem;">
                        Every day with you already feels special, but I‚Äôd love to make this Valentine‚Äôs Day another memory we hold close. So here I am, asking the simplest yet most important question ‚Äî will you be my Valentine and let me celebrate the amazing person you are?
                    </p>
                    
                 <div style="width: 100%; max-width: 700px; margin: 2rem auto;">
    <video controls
           style="width: 100%; border-radius: 20px; box-shadow: 0 15px 40px rgba(255, 107, 157, 0.4);">
        <source src="video2.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
</div>

                    
                   
                </div>

                <div class="love-letter">
                    <h2>My Dearest Love,</h2>
                    
                   
                    <img src="memory10.png" 
                         alt="Us Together" 
                         style="width: 100%; max-width: 700px; border-radius: 25px; margin: 2rem 0; box-shadow: 0 15px 50px rgba(255, 107, 157, 0.4); border: 5px solid var(--yellow);">
                    
                    <p>
                        Every day with you feels like Valentine's Day. You've transformed my world into a 
                        place filled with laughter, joy, and endless possibilities. When I look at you, I see my 
                        best friend, my partner in crime, and my forever person all rolled into one amazing soul.
                    </p>
                    <p>
                        Remember our first date? I was so nervous that I spilled coffee on myself, but you just 
                        laughed and made me feel comfortable. That's when I knew you were special. You have this 
                        incredible ability to make everything better just by being yourself.
                    </p>
                    <p>
                        Thank you for every adventure, every silly joke, every quiet moment, and every dream we've 
                        shared. Thank you for loving me on my best days and standing by me on my worst. Thank you 
                        for being the light that guides me home.
                    </p>
                    
                    <!-- ADD ANOTHER PHOTO HERE IF YOU WANT -->
                    <img src="New year.png" 
                         alt="Beautiful Memory" 
                         style="width: 100%; max-width: 700px; border-radius: 25px; margin: 2rem 0; box-shadow: 0 15px 50px rgba(255, 107, 157, 0.4); border: 5px solid var(--yellow);">
                    
                    <p>
                        This Valentine's Day, I want you to know that you are cherished beyond measure. You are my 
                        today and all of my tomorrows. I promise to keep making you smile, to support your dreams, 
                        and to love you more with each passing day.
                    </p>
                    <p>
                        Here's to us, to our beautiful journey, and to the countless memories we have yet to create. 
                        I love you more than words could ever express, but I'll spend forever trying to show you.
                    </p>
                    <div class="signature">Forever Yours, ‚ù§Ô∏è<br>Your Valentine</div>
                </div>

                <div class="special-message">
                    <p style="margin-top: 2rem;">
                        <button onclick="reliveJourney()" style="display: inline-block; margin-top: 1rem; padding: 1.2rem 3rem; background: linear-gradient(135deg, white, var(--light-pink)); color: var(--purple); border: none; text-decoration: none; border-radius: 50px; font-family: 'Fredoka', sans-serif; font-size: 1.3rem; box-shadow: 0 15px 40px rgba(255, 255, 255, 0.3); font-weight: 600; transition: all 0.3s ease; cursor: pointer;">
                            üîÑ Relive Our Journey Again
                        </button>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="heart-explosion" id="heartExplosion"></div>
    <div class="floating-hearts-container" id="floatingHeartsContainer"></div>

    <footer id="footer" style="display: none;">
    </footer>

    <script>
        // Relive Journey - Reset progress and go back to home
        function reliveJourney() {
            if (confirm('This will reset your progress and take you back to the beginning. Ready to relive our journey? üíï')) {
                // Reset the progression
                localStorage.removeItem('unlockedPages');
                // Go back to home page
                window.location.href = 'index.html';
            }
        }
        // Create enhanced stars
        function createStars() {
            const starsContainer = document.getElementById('starsContainer');
            for (let i = 0; i < 150; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                star.style.animationDuration = (Math.random() * 2 + 2) + 's';
                starsContainer.appendChild(star);
            }
        }

        createStars();

        // Particle system
        const canvas = document.getElementById('particleCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 3 + 1;
                this.speedX = Math.random() * 2 - 1;
                this.speedY = Math.random() * 2 - 1;
                this.color = `hsl(${Math.random() * 60 + 320}, 100%, ${Math.random() * 30 + 60}%)`;
            }

            update() {
                this.x += this.speedX;
                this.y += this.speedY;

                if (this.x > canvas.width || this.x < 0) this.speedX *= -1;
                if (this.y > canvas.height || this.y < 0) this.speedY *= -1;
            }

            draw() {
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        let particles = [];
        let particlesActive = false;

        function initParticles() {
            particles = [];
            for (let i = 0; i < 100; i++) {
                particles.push(new Particle());
            }
            particlesActive = true;
        }

        function animateParticles() {
            if (!particlesActive) return;
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            particles.forEach(particle => {
                particle.update();
                particle.draw();
            });

            requestAnimationFrame(animateParticles);
        }

        // Fireworks
        function createFirework(x, y) {
            const colors = ['#FF6B9D', '#C44569', '#FFD93D', '#6BCF7F', '#FFE5EC'];
            const particles = 30;
            
            for (let i = 0; i < particles; i++) {
                const particle = document.createElement('div');
                particle.className = 'firework';
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                
                const angle = (Math.PI * 2 * i) / particles;
                const velocity = Math.random() * 200 + 100;
                const tx = Math.cos(angle) * velocity;
                const ty = Math.sin(angle) * velocity;
                
                particle.style.animation = `fireworkParticle 1s ease-out forwards`;
                particle.style.setProperty('--tx', tx + 'px');
                particle.style.setProperty('--ty', ty + 'px');
                
                document.body.appendChild(particle);
                
                setTimeout(() => particle.remove(), 1000);
            }
        }

        // Add firework animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fireworkParticle {
                0% {
                    transform: translate(0, 0);
                    opacity: 1;
                }
                100% {
                    transform: translate(var(--tx), var(--ty));
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);

        function unlockSurprise() {
            const lockScreen = document.getElementById('lockScreen');
            const surpriseContent = document.getElementById('surpriseContent');
            const footer = document.getElementById('footer');

            // Trigger fireworks
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    createFirework(
                        Math.random() * window.innerWidth,
                        Math.random() * window.innerHeight * 0.7
                    );
                }, i * 300);
            }

            // Create heart explosion
            const heartExplosion = document.getElementById('heartExplosion');
            const hearts = ['üíñ', 'üíï', 'üíó', 'üíù', 'üíì', 'üíû', '‚ù§Ô∏è', 'üß°', 'üíõ', 'üíö', 'üíô', 'üíú'];
            
            for (let i = 0; i < 30; i++) {
                const heart = document.createElement('div');
                heart.className = 'exploding-heart';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                
                const angle = (Math.PI * 2 * i) / 30;
                const distance = 400;
                const tx = Math.cos(angle) * distance;
                const ty = Math.sin(angle) * distance;
                
                heart.style.setProperty('--tx', tx + 'px');
                heart.style.setProperty('--ty', ty + 'px');
                
                heartExplosion.appendChild(heart);
            }

            // Initialize particle system
            initParticles();
            animateParticles();

            // Hide lock screen and show surprise
            setTimeout(() => {
                lockScreen.style.display = 'none';
                surpriseContent.style.display = 'block';
                surpriseContent.classList.add('show');
                footer.style.display = 'block';
                startFloatingHearts();
                
                // More fireworks after reveal
                setTimeout(() => {
                    for (let i = 0; i < 3; i++) {
                        setTimeout(() => {
                            createFirework(
                                Math.random() * window.innerWidth,
                                Math.random() * window.innerHeight * 0.5
                            );
                        }, i * 400);
                    }
                }, 1000);
                
                // Clean up explosion
                setTimeout(() => {
                    heartExplosion.innerHTML = '';
                }, 2000);
            }, 1000);
        }

        function startFloatingHearts() {
            const container = document.getElementById('floatingHeartsContainer');
            const hearts = ['üíñ', 'üíï', 'üíó', 'üíù', 'üíì', 'üíû', '‚ù§Ô∏è', 'üß°', 'üíõ', 'üíö', 'üíô', 'üíú'];
            
            setInterval(() => {
                const heart = document.createElement('div');
                heart.className = 'floating-heart-anim';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDuration = (Math.random() * 4 + 4) + 's';
                heart.style.fontSize = (Math.random() * 1.5 + 1) + 'rem';
                container.appendChild(heart);
                
                setTimeout(() => {
                    heart.remove();
                }, 8000);
            }, 600);
        }

        // Resize canvas on window resize
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        // Random fireworks in background (occasional)
        setInterval(() => {
            if (document.getElementById('surpriseContent').classList.contains('show')) {
                if (Math.random() > 0.7) {
                    createFirework(
                        Math.random() * window.innerWidth,
                        Math.random() * window.innerHeight * 0.6
                    );
                }
            }
        }, 3000);
    </script>
</body>
</html>
